[gd_scene load_steps=8 format=3 uid="uid://bxlki3y1ksc6o"]

[ext_resource type="PackedScene" uid="uid://4p83eae6htys" path="res://Scenes/player.tscn" id="1_jjgbg"]
[ext_resource type="PackedScene" uid="uid://67vijrrgni4b" path="res://Scenes/game_start_and_over.tscn" id="2_21xkr"]
[ext_resource type="PackedScene" uid="uid://c51fatmvfemv0" path="res://Scenes/enemy.tscn" id="2_bo1nx"]
[ext_resource type="PackedScene" uid="uid://3ov6bmf8spxo" path="res://Scenes/hud.tscn" id="4_jjvhh"]
[ext_resource type="Script" uid="uid://c86ipxker30r0" path="res://scripts/KillPlayerZone.cs" id="5_21xkr"]
[ext_resource type="Script" uid="uid://bl8gxxrqo0fs5" path="res://scripts/EnemySpawner.cs" id="5_kry3j"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_jjgbg"]

[node name="Main" type="Node"]

[node name="Player" parent="." instance=ExtResource("1_jjgbg")]
z_index = 1
position = Vector2(180, 320)

[node name="Camera2D" type="Camera2D" parent="Player"]
process_callback = 0
limit_left = 0
limit_right = 360
limit_bottom = 640
position_smoothing_enabled = true

[node name="WorldCollisions" type="Node" parent="."]

[node name="WallRight" type="StaticBody2D" parent="WorldCollisions"]
position = Vector2(350, 1304)
rotation = -1.5707963
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldCollisions/WallRight"]
shape = SubResource("WorldBoundaryShape2D_jjgbg")

[node name="WallLeft" type="StaticBody2D" parent="WorldCollisions"]
position = Vector2(10, 1304)
rotation = 1.5707964
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldCollisions/WallLeft"]
shape = SubResource("WorldBoundaryShape2D_jjgbg")

[node name="HUD" parent="." node_paths=PackedStringArray("Player") instance=ExtResource("4_jjvhh")]
visible = true
Player = NodePath("../Player")

[node name="GameStartAndOver" parent="HUD" instance=ExtResource("2_21xkr")]

[node name="EnemySpawner" type="Node" parent="."]
script = ExtResource("5_kry3j")
initEnemyOffset = 40
enemySpacing = 250
enemyScene = ExtResource("2_bo1nx")

[node name="KillPlayerZone" type="Node" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("5_21xkr")
player = NodePath("../Player")
DeathZoneY = 100.0

[connection signal="GameOver" from="KillPlayerZone" to="HUD/GameStartAndOver" method="OnGameOver"]
